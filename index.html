<!DOCTYPE html>
<html>
<head>
  <title>PDF to Image Converter</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.min.js"></script>
  <style>
    #pdf-container {
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
  <div id="pdf-container"></div>
  <script>
    // 获取url参数中的pdf文件地址
    const urlParams = new URLSearchParams(window.location.search);
    const pdfUrl = urlParams.get('pdf');

    // 加载PDF文件
    pdfjsLib.getDocument(pdfUrl).promise.then(function(pdf) {
      // 加载第一页
      return pdf.getPage(1);
    }).then(function(page) {
      // 创建canvas元素
      const canvas = document.createElement("canvas");
      const context = canvas.getContext('2d');
      const viewport = page.getViewport({ scale: 1 });

      // 设置canvas大小
      canvas.width = viewport.width;
      canvas.height = viewport.height;

      // 渲染页面到canvas
      page.render({
        canvasContext: context,
        viewport: viewport
      }).promise.then(function() {
        // 将canvas转换为图片
        const dataURL = canvas.toDataURL('image/png');

        // 创建图片元素
        const img = document.createElement('img');
        img.src = dataURL;

        // 将图片添加到页面
        const pdfContainer = document.getElementById('pdf-container');
        pdfContainer.appendChild(img);
      });
    });
  </script>
</body>
</html>